<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Finance Tracker</title>
    <script>
      // GitHub Pages 404 redirect для SPA
      // Сохраняем путь и перенаправляем на index.html с параметрами
      (function() {
        const basePath = '/finance-tracker';
        const currentPath = window.location.pathname;
        const search = window.location.search;
        const hash = window.location.hash;
        
        // Извлекаем относительный путь (убираем basePath)
        let relativePath = currentPath.replace(basePath, '');
        
        // Если путь пустой, делаем его корнем
        if (!relativePath || relativePath === '/') {
          relativePath = '/';
        }
        
        // Формируем URL с path в query параметре
        // Это позволит index.html правильно обработать маршрут
        const redirectUrl = basePath + '/?p=' + encodeURIComponent(relativePath) + 
                           (search ? '&' + search.substring(1) : '') + 
                           hash;
        
        console.log('[404] Redirecting from:', currentPath + search + hash, 'to:', redirectUrl);
        window.location.replace(redirectUrl);
      })();
    </script>
  </head>
  <body>
    <p>Перенаправление...</p>
  </body>
</html>

